<div class="wheel-container">
  <h3>Spin the Wheel</h3>
  
  <div class="wheel-controls">
    <div class="input-group">
      <label for="sector-input">Select Sector (1-10):</label>
      <input
        type="number"
        id="sector-input"
        class="sector-input"
        [(ngModel)]="selectedSector"
        min="1"
        max="10"
        placeholder="Enter 1-10"
        [disabled]="isSpinning">
      <button
        type="button"
        class="btn btn-spin"
        (click)="spin()"
        [disabled]="isSpinning || selectedSector === null">
        {{ isSpinning ? 'Spinning...' : 'Spin' }}
      </button>
    </div>
    
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
  </div>

  <div class="wheel-wrapper">
    <svg
      class="wheel-svg"
      width="400"
      height="400"
      viewBox="0 0 400 400"
      xmlns="http://www.w3.org/2000/svg">
      <g [style.transform]="wheelTransform" [style.transform-origin]="'200px 200px'">
        <!-- Draw 10 sectors -->
        <path
          *ngFor="let sector of [0,1,2,3,4,5,6,7,8,9]; let i = index"
          [attr.d]="getSectorPath(i)"
          [attr.fill]="getSectorColor(i)"
          [attr.stroke]="'#ffffff'"
          [attr.stroke-width]="'2'"
          class="sector">
        </path>
        
        <!-- Sector numbers -->
        <g
          *ngFor="let sector of [0,1,2,3,4,5,6,7,8,9]; let i = index"
          [attr.transform]="'translate(' + getSectorTextPosition(i).x + ',' + getSectorTextPosition(i).y + ') rotate(' + getSectorTextPosition(i).rotation + ')'">
          <text
            class="sector-number"
            fill="#ffffff"
            font-size="24"
            font-weight="bold"
            text-anchor="middle"
            dominant-baseline="middle">
            {{ i + 1 }}
          </text>
        </g>
      </g>
      
      <!-- Center circle -->
      <circle
        cx="200"
        cy="200"
        r="30"
        fill="#2c3e50"
        stroke="#ffffff"
        stroke-width="3">
      </circle>
      
      <!-- Pointer at top -->
      <polygon
        points="200,20 190,50 210,50"
        fill="#e74c3c"
        stroke="#ffffff"
        stroke-width="2"
        class="pointer">
      </polygon>
    </svg>
  </div>
</div>
